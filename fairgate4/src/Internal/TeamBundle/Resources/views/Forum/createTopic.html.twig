{% extends app.request.xmlHttpRequest ? '::ajax-layout.html.twig' : '::internal/layout.html.twig' %}
{% set pageTitle = 'FORUM_NEW_TOPIC'|trans %}
{% block pagecontent %}
<!-- BEGIN CONTENT -->
<!-- BEGIN PAGE HEADER-->
<div class="row">
    <div class="col-md-12">
        <!-- BEGIN PAGE TITLE & BREADCRUMB-->
        <!-- BREADCRUMB STARTS -->
        {% include 'internal/breadcrumb.html.twig' with breadCrumb %}
        <!-- BREADCRUMB ENDS -->
        <div class="row">
            <div class="col-md-12">
                <div class="row">
                    <div class="col-md-12">
                        <div class="portlet-body fg-theme-blue">
                            <div class="col-md-4 fg-left-zero fg-page-title-nav">
                                <div class="btn-group pull-left fg-full-width fg-internal-title">
                                    <h3 class="page-title fg-page-title">{{'FORUM_NEW_TOPIC'|trans}}</h3>
                                </div>
                            </div>              
                            <div class="clearfix"></div>
                            <form id="forum-topic" onsubmit="return false;" class="form-horizontal"> 
                                <div id="failcallbackServerSide" class="alert alert-danger" style="display:none;">
                                    <button class="close" data-close="alert"></button>
                                    <span>{{'FORM_ERROR_DISPLAY'|trans}}</span>
                                </div>
                                <div id="fg-dev-forum-topic-div" >
                                    <div class="form-group ">
                                        <label class="control-label col-sm-3">{{'FORUM_TOPIC_TITLE'|trans}} <span class="required" > *</span></label>
                                        <div dataerror-group class="col-lg-9 col-sm-9 col-xs-12">
                                            <input type="text" class="form-control"  name="topic-title" data-key="topic-title" id="subject" >
                                            <span class="help-block" for="subject"></span>
                                        </div>
                                    </div>
                                    <div class="form-group ">
                                        <label class="control-label col-sm-3">{{'FORUM_FIRST_POST'|trans}} <span class="required" > *</span></label>
                                        <div dataerror-group class="col-lg-9 col-sm-9 col-xs-12">
                                          <textarea rows="6" name="forum-post"  id="forum-post" data-key="forum-post" class="form-control dFExclude" style="" ></textarea>
                                           <span class="help-block" for="forum-post"></span>
                                        </div>
                                        <div dataerror-group class="col-lg-9 col-sm-9 col-xs-12">
                                            <textarea rows="6" name="forum-post-text"  data-key="forum-post-text" id="forum-post-text" class="form-control hidden"></textarea>
                                            <div id='preview-text' class='fg-forum-preview-txt hidden'></div>
                                            <div id='preview-text-dummy' class=' hidden'></div>
                                        </div>
                                    </div>
                                    <div class="fg-margin-btm-10 fg-clear row">
                                        <label class="control-label  col-sm-3 fg-pad-top-0">{{'FORUM_TOPIC_REPLIES'|trans}}</label>

                                        <div dataerror-group class=" col-sm-5 ">
                                            <div class="radio-inline fg-pad-0">
                                                <label class="radio-inline fg-pad-0">
                                              <input type="radio" name="topic-replies" data-key="topic-replies" value="allowed" checked>
                                              {% trans %}FORUM_ALLOWED{% endtrans %}</label>
                                              </div>
                                              <div class="radio-inline fg-pad-0">
                                                <label class="radio-inline fg-pad-0">
                                                    <input type="radio" name="topic-replies" data-key="topic-replies" value="not_allowed" >
                                              {% trans %}FORUM_NOT_ALLOWED{% endtrans %} </label>
                                              </div>
                                        </div>
                                    </div>
                                    <div class="fg-margin-btm-10 fg-clear row">
                                        <label class="control-label  col-sm-3 fg-pad-top-0">{{'FORUM_TOPIC_STICKY'|trans}}</label>
                                        <div dataerror-group  class=" col-sm-5 ">
                                            <label class="radio-inline fg-pad-0">
                                            <input type="checkbox" class="form-control" name="topic-sticky" id="topic-sticky" data-key="topic-sticky"> {% trans %}FORUM_MAKE_STICKY{% endtrans %}
                                            </label>
                                        </div>
                                    </div>
                                </div> 
                                {% include 'internal/savebutton.html.twig' with {'backLink':backLink,'save_button_val':save_button_val,'second_btn_val':second_btn_val} %}
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block javascripts %}

<script src="{{ asset('fgassets/assets/global/plugins/ckeditor/ckeditor.js')}}" type="text/javascript"></script>
<script src="{{ asset('fgcustom/js/page/ckEditor-config.js')}}" type="text/javascript"></script>
<script src="{{ asset('fgassets/internal/js/page/ForumCkEditorBBCodeConfig.js')}}" type="text/javascript"></script>
<script>
    var advancedToolsArr = ckEditorConfig.forumSimple;
    var textareaName = 'forum-post'; 
    var savePath = "{{ path('save_forum_topic') }}";
    var locale = "{{locale}}";
    var required = "{{'REQUIRED'|trans}}";
    var second_btn_val = "{{second_btn_val}}";
    var second_btn_valedit = "{{second_btn_valedit}}";
     var grpId = "{{grp_id}}";
    var grpType = "{{grpType}}";  
</script> 
<script src="{{ asset('fgassets/internal/js/page/fgForumTopic.js')}}" type="text/javascript"></script> 
<script>
    FgForumCreateTopic.initDocumentReady();
</script>
{% endblock %}