{% extends app.request.xmlHttpRequest ? '::ajax-layout.html.twig' : '::internal/layout.html.twig' %}
{% set pageTitle = documentName %}
{% block pagecontent %}
    <!-- BEGIN CONTENT -->
    <!-- BEGIN PAGE HEADER-->
    <div class="row">
        <div class="col-md-12">
            <div class="row">
                <div class="col-md-12">
                    <div class="portlet-body fg-theme-yellow">
                        <!-- BEGIN PAGE TITLE & BREADCRUMB-->
                        {% include 'clubadmin/breadcrumb.html.twig' with {'breadCrumb' :  {'back' : back }} %}
                        <div class="row">
                            <div class="col-md-12 col-sm-12">
                                <h3 class="page-title fg-inner-title">{{ 'LOG_OF_DOCUMENT' |trans ({'%documentName%': documentName}) }}</h3>
                            </div>
                        </div>
                        <!-- END PAGE TITLE & BREADCRUMB-->

                        <div class="portlet-body tab-pane new-table-height" id="log-table_{{ documentId }}">
                           {# {% include 'InternalTeamBundle:DocumentLog:logList.html.twig' %}#}
                        </div>
                        
                       
                        <div class="row">
                             <div class="date-filter col-md-12 fg-doc-log" id="date_filter_{{ documentId }}">
                                 <div class="pull-left">
                                     <label for="filter_start_date" class="filter-log-from"><span>{{ 'LOG ENTRIES FROM'|trans }}</span></label>
                                     <div class='input-group date datepicker'>
                                         <input type="date_range" name="filter_start_date" id="filter_start_date_{{ documentId }}" value="" class="form-control filter-log-input " data-event="{{ documentId }}"/>
                                         <span class="input-group-addon cal filter-log-date"><span class="glyphicon glyphicon-calendar"></span></span>
                                     </div>
                                 </div>
                                 <div class="pull-left">
                                     <label for="filter_end_date" class="filter-log-from"><span>{{ 'LOG_TO'|trans }}</span></label>
                                     <div class='input-group date datepicker'>
                                         <input type="date_range" name="filter_end_date" id="filter_end_date_{{ documentId }}" value="" class="form-control filter-log-input" data-event="{{ documentId }}"/>
                                         <span class="input-group-addon cal filter-log-date"><span class="glyphicon glyphicon-calendar"></span></span>
                                     </div>
                                 </div>
                                 <!-- Date filter error message-->        
                                 <div class="col-sm-3 has-error fg-log-error">
                                     <span class="help-block fg-error-hide" id="log_date_error_{{ documentId }}"></span>
                                 </div>
                             </div>
                         </div>

                        <div class="row">
            <div class="fg-loginstatus-table">
                <table class="dataTable
                       table
                       table-bordered
                       table-hover
                       table-condensed"
                       id="datatable-documentlog" data-ajax-path="{{ path('internal_document_log_data', {'documentId': documentId}) }}" > 
                    <thead>
                        <tr>
                <th>{{ 'LOG_DATE'|trans }}</th>
                <th>{{ 'LOG_OPTION'|trans }}</th>
                <th>{{ 'LOG_BEFORE'|trans }}</th>
                <th>{{ 'LOG_AFTER'|trans }}</th>
                <th>{{ 'LOG_EDITED_BY'|trans }}</th>
            </tr>
        </thead>
                </table></div></div>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}


{% block javascripts %}
<script src="{{ asset('fgassets/internal/js/page/documentLog.js') }}" type="text/javascript"></script>
<script type="text/javascript">

           $(function () {
            scope = angular.element($("#BaseController")).scope();
        });
    FgDocumentLog.setVariables({{ documentId }});
    var errorMsgTranslations={
    'Log_date_filter_err_msg1' : "{{ 'LOG_DATE_FILTER_ERR_MSG1'|trans }}",
    'Log_date_filter_err_msg2' : "{{ 'LOG_DATE_FILTER_ERR_MSG2'|trans }}",
    'Log_date_filter_err_msg3' : "{{ 'LOG_DATE_FILTER_ERR_MSG3'|trans }}",
    'Log_date_filter_err_msg4' : "{{ 'LOG_DATE_FILTER_ERR_MSG4'|trans }}"
}        
      
       
       
</script>
{% endblock %}    